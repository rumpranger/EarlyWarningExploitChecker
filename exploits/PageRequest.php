<?php

/**
 * Page Request Class
 * 
 * Container for the request
 * All it needs is a url
 * Optional array of error codes to skip depending on your site
 * 
 * Written 05-08-2013
 * @author Charles Weiss
 * @package Exploits
 */
namespace Exploit;
class PageRequest
{
	/**
	 * The body of the HTML page
	 * @var string
	 */
	public $body = '';
	/**
	 * The domain extracted from the url
	 * @var string
	 */
	public $domain = '';
	/**
	 * The array of codes to skip
	 * @var array
	 */
	public $toSkip = array();
	/**
	 * The url to fetch and check for exploits
	 * @var string
	 */
	public $url = '';

	/**
	 * Constructor 
	 * 	extracts domain
	 * 	 
	 * @param string $url
	 * @param array $toSkip
	 */
	public function __construct($url = '', $toSkip = array())
	{
		$this->url = $url;
		$parse = parse_url($this->url);
		$this->domain = $parse['host'];
		if (substr($this->domain, 0, 4) == "www.")
		{
			$this->domain = substr($this->domain, 4);
		}
		if (!empty($toSkip))
		{
			$this->toSkip = explode(',', $toSkip);
		}
	}
}
// End of Script
